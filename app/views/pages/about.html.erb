<div class="right-container">
  <div id="yt-player-wrapper"><div id="yt-player">Loading...</div></div>

  <div id="tracks-listing-container">
    <ol id="track-listing"></ol>
  </div>

  <a href="javascript:void(0);" onclick="play();">Play</a> | 
  <a href="javascript:void(0);" onclick="pause();">Pause</a> | 
  <a href="javascript:void(0);" onclick="stop();">Stop</a> | 
  <a href="javascript:void(0);" onclick="loadNewVideo('GrsJDy8VjZk', 0);">load</a> | 
  <a href="javascript:void(0);" onclick="halfMute(50);">Half mute</a> |
  <a href="javascript:void(0);" id="next">Next -></a> |
  <a href="javascript:void(0);" id="back">Back</a>

  <div id="videoInfo">
    <p>Player state: <span id="playerState">--</span></p>
    <p>Current Time: <span id="videoCurrentTime">--:--</span> | Duration: <span id="videoDuration">--:--</span></p>
    <p>Bytes Total: <span id="bytesTotal">--</span> | Start Bytes: <span id="startBytes">--</span> | Bytes Loaded: <span id="bytesLoaded">--</span></p>
  </div>

</div>




<style type="text/css">
#yt-player-wrapper {
  margin: 0;
}

#track-listing {
  list-style-position:inside;
}

.track.selected {
  font-weight: bold;
}
.track {
  font-size: 12px;
  font-weight: normal;
  color: #f3f3f3;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.track span {
  color: gray;
}
#id-1 span {
  padding-left: 3px;

}

</style>

<script type="text/javascript">

var field = new Field(0);
//var tracks = <%= raw @video_ids %>;
//var tracks_length = tracks.length;
//var tracks;

$('document').ready( function () {

  //var results = xhr_get("<%= escape_javascript(playlist_path) %>", "playlist");
  var results = $.getValues("<%= escape_javascript(playlist_path) %>");
  //console.log(results);

  var tracks = [];
  $.each(results, function (i,item) {
    tracks.push(item.youtube_id);
  });
  //alert(a);
  $('#next').click( function() {
    field.setValue(field.getValue() + 1);
    $r = field.getValue();
    loadNewVideo(tracks[field.getValue()], $r);
  });
  $('#back').click( function() {
    field.setValue(field.getValue() - 1);
    $r = field.getValue();
    loadNewVideo(tracks[field.getValue()], $r);
  });

  initialize(field.getValue(), tracks[field.getValue()]);

})



</script>